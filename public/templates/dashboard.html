<!DOCTYPE html>
<html>

<head>
	{{> standard-header-stuff}}
	<title>{{title}}</title>
	<link rel="stylesheet" href="/css/dashboard-css.css">
</head>

<body>
	{{> outer_navbar}}

	<!-- Page Contents -->
	<div class="pusher">
		<div class="ui inverted masthead center aligned segment landing-image">
			{{> inner_navbar}}
		</div>

		<div class="ui vertical stripe segment">
			<div class="ui container">
				<h3 class="ui header">User settings</h3>

				<div class="ui one column grid">
					<div class="column">

						<div class="ui fluid cards">
							<div class="card" id="userContent">
							</div>
						</div>

					</div>

				</div>



				<!-- 

				<div class="ui card">
					<div class="content">
						<div class="header">Cute Dog</div>
						<div class="meta">2 days ago</div>
						<div class="description">
							<p>Cute dogs come in a variety of shapes and sizes. Some cute dogs are cute for their adorable faces, others for their tiny stature, and even others for their massive size.</p>
							<p>Many people also have their own barometers for what makes a cute dog.</p>
						</div>
					</div>
					<div class="extra content">
						<i class="heartbeat icon"></i>
						121 Love points
					</div>
				</div>

 -->



				<div class="ui three column grid">
					<div class="">
						<div class="column center aligned">
							<div class="ui fluid card">
								<div class="content">
									<div class="header">
										<img class="ui avatar image" src="https://discordapp.com/assets/322c936a8c8be1b803cd94861bdfa868.png">Karen_Kujou#3386
									</div>
									<div class="meta">2 days ago</div>
									<div class="description">
										<p>Cute dogs come in a variety of shapes and sizes. Some cute dogs are cute for their adorable faces, others for their
											tiny stature, and even others for their massive size.</p>
										<p>Many people also have their own barometers for what makes a cute dog.</p>
									</div>
								</div>
								<div class="extra content">
									<i class="heart icon"></i>
									121 Love Points
								</div>
							</div>
						</div>
					</div>

					<!-- <div class="column">
						<div class="ui fluid card">
							<div class="content">
								<div class="header">
									<img class="ui avatar image" src="https://discordapp.com/assets/322c936a8c8be1b803cd94861bdfa868.png">Karen_Kujou#3386
								</div>
								<div class="meta">2 days ago</div>
								<div class="description">
									<p>Cute dogs come in a variety of shapes and sizes. Some cute dogs are cute for their adorable faces, others for their
										tiny stature, and even others for their massive size.</p>
									<p>Many people also have their own barometers for what makes a cute dog.</p>
								</div>
							</div>
							<div class="extra content">
								<i class="heart icon"></i>
								121 Love Points
							</div>
						</div>
					</div>
					<div class="column">
						<div class="ui fluid card">
							<div class="content">
								<div class="header">
									<img class="ui avatar image" src="https://discordapp.com/assets/322c936a8c8be1b803cd94861bdfa868.png">Karen_Kujou#3386
								</div>
								<div class="meta">2 days ago</div>
								<div class="description">
									<p>Cute dogs come in a variety of shapes and sizes. Some cute dogs are cute for their adorable faces, others for their
										tiny stature, and even others for their massive size.</p>
									<p>Many people also have their own barometers for what makes a cute dog.</p>
								</div>
							</div>
							<div class="extra content">
								<i class="heart icon"></i>
								121 Love Points
							</div>
						</div>
					</div>
				</div> -->





				</div>
			</div>

			<div class="ui vertical stripe">
				<div class="ui container">
					<h3 class="ui header">Server settings</h3>

					<div class="ui three column grid">
						<div class="column">

							<div class="ui search selection dropdown fluid">
								<input type="hidden" name="country">
								<i class="dropdown icon"></i>
								<div class="default text">Select server</div>
								<div class="menu" id="menu">
								</div>
							</div>

						</div>
					</div>

				</div>

			</div>

			<!-- grid exmaple -->
			<div class="ui vertical stripe">
				<div class="ui container">

					<div class="ui aligned grid">
						<div class="floated centered aligned six wide column">
							<div class="ui segment">
								Right floated left aligned column
							</div>
						</div>
						<div class="center aligned two column row">
							<div class="column">
								<div class="ui segment">
									Center aligned row
								</div>
							</div>
							<div class="column">
								<div class="ui segment">
									Center aligned row
								</div>
							</div>
						</div>
						<div class="sixteen wide column">
							<div class="ui segment">
								Right Aligned Grid
							</div>
						</div>
					</div>

				</div>
			</div>
			<!-- grid exmaple end -->

		</div>

		{{> footer}}

	</div>
	<script src="/jQuery/jquery.min.js"></script>
	<script src="/semantic/dist/semantic.min.js"></script>
	<script src="/semantic/dist/components/popup.min.js"></script>
	<script src="/js/sites/index.js"></script>
	<script src="/js/sites/dashboard.js"></script>

	<script>
		$('.ui.dropdown').dropdown();
		var data = ""
		var guild = {
			id: [],
			icon: [],
			name: []
		}
		var user = {
			icon: ""
		}
		$(document).ready(function () {
			$.get("/api/mutualGuilds", function (json, status) {
				data = json

				let _map = new Map(Object.entries(data.mutualGuilds))

				if (data.userinfo.user.avatar == null) {
					user.icon = "https://discordapp.com/assets/322c936a8c8be1b803cd94861bdfa868.png"
					console.log(user.icon)
					console.log()
				} else {
					user.icon = `https://cdn.discordapp.com/avatars/${data.id}/${data.userinfo.user.avatar}.png`
					console.log(user.icon)
				}

				for (let num = 0; num < _map.size; num++) {
					console.log(_map.get(num.toString()).id)
					guild.id.push(_map.get(num.toString()).id)
					guild.name.push(_map.get(num.toString()).name)
					if (_map.get(num.toString()).icon == null) {
						guild.icon.push("https://semantic-ui.com/images/wireframe/square-image.png")
					} else {
						guild.icon.push(`https://cdn.discordapp.com/icons/${guild.id[num]}/${_map.get(num.toString()).icon}.png`)
					}
				}

				setTimeout(function () {
					$('#userContent').append(`
							<div class="content">
									<div class="header">
										<img class="ui avatar image" src=${user.icon}>${data.userinfo.user.username}#${data.userinfo.user.discriminator}
									</div>
									<div class="meta">Friend</div>
									<div class="description">
										Elliot Fu is a film-maker from New York.
									</div>
								</div>
								<div class="extra content">
									<i class="heart icon"></i>
									${data.generalSettings.lovePoints} Love points
								</div>
							`)
				}, 0)


				setTimeout(function () {
					$('#userContent2').append(`
							<div class="content">
									<div class="header">
										<img class="ui avatar image" src=${user.icon}>${data.userinfo.user.username}#${data.userinfo.user.discriminator}
									</div>
									<div class="meta">Friend</div>
									<div class="description">
										Elliot Fu is a film-maker from New York.
									</div>
								</div>
								<div class="extra content">
									<i class="heart icon"></i>
									${data.generalSettings.lovePoints} Love points
								</div>
							`)
				}, 0)

				setTimeout(function () {
					for (let index = 0; index < _map.size; index++) {
						$('#menu').append(`
								<div class="item" data-value=${guild.id[index]}>
									<img class="ui circular image flag" src=${guild.icon[index]}>
									${guild.name[index]}
								</div>
							`)
					}
					$('#menu').dropdown('refresh');
				}, 0)


			});
		});
	</script>

</body>

</html>
