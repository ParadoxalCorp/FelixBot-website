<!DOCTYPE html>
<html>

<head>
	{{> standard-header-stuff}}
	<title>{{title}}</title>
	<link rel="stylesheet" href="/css/dashboard-css.css">
</head>

<body>
	{{> outer_navbar}}

	<!-- Page Contents -->
	<div class="pusher">
		<div class="ui inverted masthead center aligned segment landing-image">
			{{> inner_navbar}}
		</div>

		<p>Hello {{context.session.username}}</p>

		<button class="ui secondary basic button" id="get">I'm a "get" test button</button>


		<br>
		<br>
		<br>
		<br>
		<form class="ui form">
			<div class="field">
				<label>write a number here</label>
				<input type="text" id="take_my_value_to_push" placeholder="my message is gonna be psuhed to the server" autocomplete="off">
			</div>
			<button class="ui button" type="submit" id="push">push to server</button>

		</form>

		<h1 id="push_change">I'm going to be changed</h1>

		<br>
		<br>
		<br>
		<br>
		<div class="ui cards">
			<div class="card">
				<div class="content">
					<div class="header">
						<img class="ui avatar image" src="/imgs/avatar.jpg">Elliot Fu</div>
					<div class="meta">Friend</div>
					<div class="description">
						Elliot Fu is a film-maker from New York.
					</div>
				</div>
			</div>
		</div>


		<div class="ui vertical stripe segment">
			<div class="ui text container">

				<div class="ui two column grid">
					<div class="column">

						<div class="ui fluid selection dropdown">
							<input type="hidden" name="user">
							<i class="dropdown icon"></i>
							<div class="default text">Select Server</div>
							<div class="menu" id="menuDropdown">
							</div>
						</div>
					</div>

				</div>
			</div>

		</div>
	</div>

	{{> footer}}

	</div>
	<script src="/jQuery/jquery.min.js"></script>
	<script src="/semantic/dist/semantic.min.js"></script>
	<script src="/semantic/dist/components/popup.min.js"></script>
	<script src="/js/sites/index.js"></script>
	<script src="/js/sites/dashboard.js"></script>

	<script>
		let data = ""
		$(document).ready(function () {
			$.get("/api/mutualGuilds", function (json, status) {
				data = json
			});
		});


		$('.ui.dropdown').dropdown();
		var items = [{ text: 'One', image: '/imgs/avatar.jpg' }, { text: 'Two', image: '/imgs/felix-bg.jpg' }]

		// Object.size = function (obj) {
		// 	var size = 0, key;
		// 	for (key in obj) {
		// 		if (obj.hasOwnProperty(key)) size++;
		// 	}
		// 	return size;
		// };
		// // Get the size of an object
		// var size = Object.size(obj);
		setTimeout(function () {
			for (let index = 0; index < items.length; index++) {
				$('#menuDropdown').append(`
						<div class="item" data-value=${items[index].text}>
							<img class="ui circular image" src=${items[index].image}>
								${items[index].text}
						</div>
						`)
			}
			$('#menuDropdown').dropdown('refresh');
		}, 1000)
	</script>

</body>

</html>
